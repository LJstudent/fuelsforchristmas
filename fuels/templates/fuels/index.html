{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

    <!-- CSS-->
    <link rel="stylesheet" type="text/css" href="{% static 'fuels/style.css' %}">

    <!-- jQUERY-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    
    <!-- Chart-->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
    
    <title>Project</title>
  </head>
  <body>  
    <!-- Cards to show daily numbers-->
    <div class="container top">
      <div class="row">
        <div class="col-sm">
          <div class="card border-light mb-3 shadow" style="width: 25rem;">
            <div class="card-body">
              <h5 class="card-title headercolour good">Benzine</h5>
              <p class="euro-text good"><span class="euro">€</span> 1,60</p>
              <p class="text-muted">26/12/2020</p>
            </div>
          </div>
        </div>
        <div class="col-sm">
          <div class="card border-light mb-3 shadow" style="width: 25rem;">
            <div class="card-body">
              <h5 class="card-title headercolour bad">Diesel</h5>
              <p class="euro-text bad"><span class="euro">€</span> 1,35</p>
              <p class="text-muted">26/12/2020</p>
            </div>
          </div>
        </div>
        <div class="col-sm">
          <div class="card border-light mb-3 shadow" style="width: 25rem;">
            <div class="card-body">
              <h5 class="card-title headercolour good">LPG</h5>
              <p class="euro-text good"><span class="euro">€</span> 0,90</p>
              <p class="text-muted">26/12/2020</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Close from cards-->
    <script>
      $(document).ready(function(){
      $('button').on('click', function(){
      $('button').removeClass('selected');
      $(this).addClass('selected');
      });
    });
    </script>
    <!-- Title-->
    <section class="py-5 text-center container">
      <div class="row py-lg-5">
        <div class="col-lg-6 col-md-8 mx-auto">
          <h1 class="fw-light">Fuel for christmas</h1>
          <p class="lead text-muted">Christmas project for learning purposes, we want to work with a API and create a modern website. 
          This is the result a website that show average prices of motor fuels such as gasoline, diesel and LPG at the gas station each day.
          </p>
          <p>
            <button class="btn btn-outline-success my-2 shadow" value="Gasoline" onclick="getchart(this)">Gasoline</button>
            <button class="btn btn-outline-success my-2 shadow" value="Diesel" onclick="getchart(this)">Diesel</button>
            <button class="btn btn-outline-success my-2 shadow" value="LPG" onclick="getchart(this)">LPG</button>
          </p>
        </div>
      </div>
    </section>
    
    <!-- Close title-->
    <!-- Graph -->
    <div class="container">
      <canvas id="myChart"></canvas>
    </div>
    <!-- Close Graph-->

    <script>

      var forecast_chart  = null;

      function getchart(btn) {

      
      var buttonValue = btn.value;
      var ctx = document.getElementById('myChart').getContext('2d');
      var config = {
      // The type of chart we want to create
      type: 'line',

      // The data for our dataset
      data: {
          labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
          datasets: [{
              label: String(buttonValue),
              backgroundColor: 'rgb(52, 215, 48)',
              borderColor: 'rgb(52, 215, 48)',
              data: [0, 10, 5, 2, 20, 30, 45, 50, 55, 60, 70, 75]
          }]
      },

      // Configuration options go here
      options: {}
    };

    if(forecast_chart != null) // i initialize myBarChart var with null
    {
    forecast_chart.destroy(); // if not null call destroy
    forecast_chart = new Chart(ctx, config); 
    } else {
    forecast_chart = new Chart(ctx, config); 
    }

    }
      
    </script>

  </body>
</html>